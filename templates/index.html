{% extends 'base.html' %}

{% block head %}

<title>Client Management</title>

{% endblock %}


{% block body %}

<div class="content">

    <h1 class="titles">Client Management</h1>

    {% if clients|length < 1 %}
    <h4 class="titles">There are no clients. Add one below!</h4>
    {% endif %}

    <form action="/" method="POST">
        <div class="input-group mb-3">
            <div class="input-group-prepend">
                <span class="input-group-text" id="inputGroup-sizing-default">Name</span>
            </div>
            <input type="text" name="name" maxlength="50" class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default" required>
        </div>


        <div class="input-group mb-3">
            <div class="input-group-prepend">
                <span class="input-group-text" id="inputGroup-sizing-default">Address</span>
            </div>
            <input type="text" name="address" maxlength="100" class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default" required>
        </div>


        <div class="input-group mb-3">
            <div class="input-group-prepend">
                <span class="input-group-text" id="inputGroup-sizing-default">Phone</span>
            </div>
            <input type="text" name="phone" maxlength="15" class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default" required>
        </div>

        <input id="inputs-btn" class="btn btn-primary btn-sm" type="submit" value="ADD CLIENT">
    </form>

    <table class="table table-bordered">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">Name</th>
            <th scope="col">Address</th>
            <th scope="col">Phone</th>
            <th scope="col">Added</th>
            <th scope="col">Actions</th>
          </tr>
        </thead>

        {% for client in clients %}

        <tbody>
          <tr>
            <th scope="row">{{ client.id }}</th>
            <td>{{ client.name }}</td>
            <td>{{ client.address }}</td>
            <td>{{ client.phone }}</td>
            <td>{{ client.date_created.date() }}</td>
            <td>
                <form class="up-del" action="/update/{{client.id}}">
                    <input class="btn btn-primary btn-sm" type="submit" value="UPDATE"/>
                </form>
                <form class="up-del" action="/delete/{{client.id}}">
                    <input class="btn btn-secondary btn-sm" type="submit" value="DELETE"/>
                </form>
            </td>
          </tr>
        </tbody>

        {% endfor %}

    </table>
</div>

{% endblock %}